<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="qrcode-tracking-of-recycle-collections-semdinsprecycleqrcode">QRCode Tracking of Recycle Collections (semdinsp/recycle_qrcode)</h1>
<p><a href="https://github.com/semdinsp/recycle_qrcode">Github</a> | <a href="https://qrcode-staging.herokuapp.com">Demo</a> |
<a href="https://qrcode-staging.herokuapp.com/"><img src="https://img.shields.io/website-up-down-green-red/http/monip.org.svg" alt="Website qrcode-staging.herokuapp.com" /></a> |
<a href="https://dashboard.heroku.com/pipelines/af690545-8e90-48e0-832a-bf5816795866/tests"><img src="https://qrcode-badge.herokuapp.com/last.svg" alt="Heroku CI Status" /></a> | <a href="https://gitHub.com/semdinsp/recyce-qrcode/graphs/commit-activity"><img src="https://img.shields.io/badge/Maintained%3F-yes-green.svg" alt="Maintenance" /></a> |</p>

<h2 id="simple-database-driven-system-to-monitor-collectionsactivity-at-various-locations-and-display-status-on-a-google-map">Simple database driven system to monitor collections/activity at various locations and display status on a google map.</h2>
<p>In our particular case we use it for collecting recycled plastic from our collection bins.  The driver at the collection vehicle scans the qr code for the site to track a collection and the database is updated with the collection time stamp.    We support reports and a live google map to track collection status.  Each entity (collection point) can associate data with it via key value pairs.  You can drag and drop the collection routes to reorder the routes.</p>

<p>Feel free to drop me a note on how to migrate this system to track other items (eg security guard scans via QR code or package tracking or …)</p>

<h1 id="to-do">To do</h1>
<ul>
  <li>additional reporting (currently a private google data studio web page links to the data)</li>
  <li>security/authentication (jwt)</li>
  <li>fix icon color display code to tidy it up.  Currently it is ugly.</li>
  <li>track routes</li>
  <li>import csv file of locations</li>
  <li>add route item and link route item and entity. -SEMI DONE needs more thought on tracking routes and when a route was completed.</li>
  <li>route editing and displays (for truck routes) -SEMI DONE</li>
</ul>

<h2 id="installation">Installation</h2>
<ul>
  <li>needs postgres database  see database.yml</li>
  <li>run all the migrations</li>
  <li>remember to run rails db:seed to create startup Settings  (in particular the map center coordinates).  Please update url as necessary for your application</li>
</ul>

<h2 id="demo">Demo</h2>
<p>Please visit the staging server as a  <a href="https://qrcode-staging.herokuapp.com">Demo</a>.  It is running a free tier on heroku (and is the staging server so it should be upto date).  It takes about 30 seconds to spin up but should be responsive after you start it.  The staging server has the map centered on Dili Timor Leste but also has a few test points in Singapore.  You may need to adjust the center to see your new sites. Feel fee to add a test point and scan the qr code to check it in.</p>

<p>To add an entity you need to add the entity and then add a location linked to the new entity.</p>

<h2 id="documentation">Documentation</h2>
<p>Please see the <a href="https://docs.verde-tl.com">documentation</a>.  The documentation is hosted on netlify and generated via Yard.  Please see the <a href="https://docs.verde-tl.com/file.notes">notes files</a> too.</p>

<h2 id="startup">Startup</h2>
<p>It is currently configured to support heroku using the falcon web server.  It is also configured to support puma (commented out).  Start up for either webserver is as simple (see the Procfile).  On first startup locally you probably need to run rake db:migrate and fiddle with rails credentials.
  * bundle exec falcon host
  * bundle exec puma config.ru  -C ./config/puma.rb</p>

<p>Basic url should bring up google map.  Admin page is located on collection page or via url/admin/entities</p>

<h1 id="yard-command-generate-documentation">Yard Command (generate documentation)</h1>
<p>yardoc –no-private –protected app/<em>*/</em>.rb - README.md   NOTES.md</p>

<h2 id="completed-new-features">Completed new features</h2>
<ul>
  <li>add locatable polymorphic class for locations so that both entity and actiontype have the same type of location -DONE</li>
  <li>add additional indices  (particularly for kv pairs on entity id and same for entity id in locations) -DONE</li>
  <li>add update bar code to update location of bin -DONE</li>
  <li>map of collections for a bin  –DONE</li>
  <li>added buttons in admin section of “show” entity to checkin and update locations -DONE</li>
  <li>setting object  (for various configurations and a center for google map)- DONE</li>
</ul>
</div></div>

      <div id="footer">
  Generated on Sun Apr  4 12:04:55 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.0).
</div>

    </div>
  </body>
</html>